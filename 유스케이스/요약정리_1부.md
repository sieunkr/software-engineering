# 2장. 행위에 대한 계약, 유스케이스

## 2.1 목표를 가진 액터 간의 상호작용

#### 액터는 목표를 가진다.
- 일차 액터는 목표를 가진다.
- 유스케이스를 작성할 때 가장 어려운 부분은, 하위 목표를 통제하는 부분이다. 
- 액터는 개인, 조직 또는 컴퓨터일 수 있다. 

#### 목표는 실패할 수 있다. 
- 시스템은 하위목표 중 하나에서 실패가 발생할 수 있다. 

#### 상호작용은 복합적이다.
- 가장 간단한 상호작용은 메시지 전송이다. 
- 상호작용은 목표처럼 필요에 따라 간결하게 모을 수도 있고 상세하게 분해할 수도 있다. 
- 시나리오의 각 단계는 목표를 가지므로, 각 단계는 자신의 유스케이스로 전개되기도 한다.
- 모든 상호작용은 동일한 일차 액터의 동일한 목표와 관련이 있다.
- 유스케이스는 트리거 이벤트에서 시작하여 목표를 달성하거나 포기할 때까지 계속되고, 시스템은 상호작용의 관점에서 자신의 책임을 완수한다.

#### 유스케이스는 시나리오의 집합이다.
- 시스템은 일차 액터가 목표를 달성하도록 도와야 한다.
- 유스케이스는 모든 시나리오를 함께 모아서 목표가 달성되거나 실패하는 모든 경우를 보여준다.

**원칙**
- 어떤 시나리오는 성공하고, 어떤 시나리오는 실패한다.
- 유스케이서는 성공하거나 실패하는 모든 시나리오의 집합이다.
- 각 시나리오는 하나의 결과를 가져오는 환경 집합을 위한 일관된 서술이다.
- 유스케이슨느 여러 시나리오를 포함하고 있으며, 시나리오는 단계로써 하위 유스케이스를 포함한다.
- 시나리오 안의 단계는 하위 유스케이스의 어떤 줄무늬가 사용되었든 신경 쓰지 않았다. 그 결과가 성공인지 실패인지 만이 중요하다.


## 2.2 이해관계를 가진 당사자 간의 계약

시스템의 내부 행위에 대한 서술은 필요하지 않다. 행위자를 위한 계약으로서, 유스케이슨느 이해관계자의 이해관계를 만족시키는 것과 관련된 행위만을 모두 포함한다. 유스케이스를 주의깊게 마무리하기 위해서는 , 이해관계자를 모두 나열하고, 유스케이스를 수행에 관련한 그들의 이해관계에 이름을 붙인 후, 유스케이스의 성공수행이 그들에게 가지는 의미와 그들이 시스템으로부터 보증받고자 하는 것을 서술한다. 훌륭한 유스케이스 작성자는 간결한 유스케이스를 작성해야한다.

이해관계자의 이해관계를 충족시키기 위해, 세 가지 유형의 행동에 대해 서술해야 한다.
- 두 액터 간의 상호작용(목표를 촉진하기 위해)
- 타당성 검토(이해관계자를 보호하기 위해)
- 내부 상태 변화(이해관계자를 위해)

## 2.3 생략


# 3장. 범위
범위는 다른 사람의 설계 작업이나 이미 존재하는 설계에 대비하여 우리가 설계하는 영역을 포현하는 단어이다. 작업 범위 안에 있는 것과 밖에 있는 것을 구분하기 위해, 요구사항이나 유스케이스 작성 활동 초기에 내부/외부 목록을 적절히 활용한다.

## 3.1 기능 범위
액터-목표 목록은 시스템의 기능 내역을 보여주면서 시스템이 제공하는 사용자 목표를 제시한다.

|액터|테스트 수준 목표|우선순위|
|---|---|---|
|모든 액터|구매 요청 확인|1|
|구매요청자|구매 요청 시작|2|

열에 추가 정보를 추가할 수 있다. 비즈니스 우선순위, 개발 복잡성, 개발 우선순위 등을 기입한다. 참고로 액터-목표 목록은 시스템 행위 서술 시 가장 낮은 수준의 정밀도를 가진다. 뿐만 아니라 시스템에 대한 전체 그림을 가지고 작업하는 데 매우 유용하다. 다음 수준의 정밀도는 주요 성공시나리오나 유스케이스 요약서가 될 것이다.

#### 유스케이스 요약서
유스케이스 요약서는 유스케이스의 행위에 대해 두 문장에서 여섯 문장 정도로 서술한 문서로, 가장 중요한 활동과 실패만을 언급한다.요약서를 통해 유스케이스 안에서 일어나는 일을 알 수 있다. 또한 작업의 복잡성을 예측하는 데 도움이 된다.


## 3.2 설계 범위

설계 범위란 시스템의 영역이다. 유스케이스 작성자와 독자가 동의할 유스케이스 설계범위 조정 및 합의가 매우 중요하다. 좋은 방법으로 모든 유스케이스에 설계 범위를 가지고 레이블을 붙이는 것이다. 그림 또한, 아이콘을 사용한다. 유스케이스를 읽기 전에 설계범위를 알 수 있도록 유스케이스 제목 왼쪽에 아이콘을 고려한다. 블랙-박스 유스케이스는 화이트-박스와는 달리 목표시스템 내부 상태에 대해 논의하지 않는다.

예제) 50page~60page

## 3.3 가장 바깥쪽 유스케이스

가장 바깥쪽 유스케이스는 시스템이 자신의 가장 바깥에 있는 사용자들에게 궁극적으로 어떤 이익이 있는지를 보여준다. 또한 시스템의 행위를 전체적으로 훑어볼 수 있돌고 표도 제공한다. 

## 3.4 범위-정의 작업 산출물 사용

- 비전 기술서
- 설계 범위 그림
- 내부/외부 목록
- 액터-목표 목록

# 4장. 이해관계자와 액터

이해관계자는 계약에 참여하는 누군가이다. 액터는 행위를 하는 어떤 것이다. 

## 4.1 이해관계자

**이해관계자**는 유스케이스 행위 안에서 폭넓은 관심을 가지고 있는 사람이나 사물이다. 유스케이스는 시스템이 이해관계자의 이익을 보호하는지를 보여주어야 한다.

## 4.2 일차 액터

유스케이스 일차 액터는 시스템 서비스 중 하나를 요청하는 이해관계자이다. 일차 액터는 시스템 관점에서 목표 하나를 가지는데, 시스템 운영을 통해서 달성할 수 있다. 일차 액터는 요구사항 파악 초기와 시스템 인도 전에는 매우 중요하다.


#### 일차 액터가 중요한 이유, 중요하지 않은 이유

**유스케이스 작성 초기**
일차 액터를 나열해 보면 시스템에 대한 큰 그림을 바로 잡을 수 있다. 일차 액터를 나열함으로써 모든 목표를 찾기 위해 최선을 다한다. 충분한 일차 액터 목록은 세가지 장점이 있다.

- 시스템을 사용할 사람에게로 초점을 이동한다.
- 개발작업을 나누고 우선순위를 부여하는데 액터-목표 목록을 사용할 것이며, 이 목록을 위한 구조를 만든다.
- 여러 유스케이스 집합을 패키지로 분리하여 서로 다른 설계템에게 줄 수 있다.

**유스케이스 작성 기간과 설계 기간**

유스케이스를 상세화하기 시작하면, 놀랍게도 일차 액터의 중요성은 사라진다. 시간이 지날수록, 유스케이스 작성자는 유스케이스를 여러 종류의 액터가 사용할 수 있음을 알게 된다. 

**설계 후, 시스템 배치를 위한 준비**
시스템을 인도하기 직전, 일차 액터는 다시 중요해진다. 

#### 액터 대 역할
액터라는 단어는 행동하는 개인을 의미한다. 
생략...


#### 일차 액터의 특성 기술

액터 목록을 가지고 있다는 사실만으로는 설계자에게 크게 도움이 되지 못한다. 설계자는 사용자가 어떤 기술을 가질 것인지 알아야만 시스템 행위에 어울리게 사용자 인터페이스를 설계할 수 있다. 액터분석표를 작성하는 팀은 개발할 소프트웨어가 어떻게 최종사용자의 요구에 부합할 것인지에 대해 보다 나은 시각을 가지고 있다고 말한다... 생략


## 4.3 지원 액터

## 4.4 목표 시스템

## 4.5 내부 액터와 화이트-박스 유스케이스
생략
화이트-박스 유스케이스를 설계할 시스템의 행위 요구사항으로 작성한느 경우는 거의 없고, 있다고 하더라도 실수에 가깝다. 



# 5장. 세가지 목표 수준

p78. 그림 참고

## 5.1 사용자 목표

사용자 목표는 작업을 완료하고자 하는 일차 액터가 가지고 있는 목표이거나 시스템을 사용하는 사용자가 가지고 있는 목표이다. 이것은 비즈니스 프로세스 엔지니어링에서 '요소 비즈니스 프로세스'에 해당한다. 대부분 환경에서, 사용자 목표는 한 사람이 한 자리에서 테스트 할 수 있다.(2~20분) 목표 수준을 색상이나 고도로 표현하면 쉽게 방향을 잡을 수 있다. 

> 해수면 은유에 대한 아이디어. 하늘은 해수면 위로 끝없이 펼쳐지고, 물은 해수면 아래로 깊게 가득 차 있지만, 하늘과 바다가 만나느 ㄴ오직 한곳은 해수면이다. 사용자 목표 위에 여러 목표 수준이 있고 아래도 마찬가지이지만, 이 중에서 가장 중요한 것은 사용자목표 이다. 그러므로 해수면 수준은 사용자 목표에 해당된다. 구름은 해수면 보다 높음을 나타내고, 물고기나 조개는 해수면 보다 낮음을 의미한다. 

시스템 기능을 가장 간단하게 요약한다면, 해수면 수준을 지원하는 사용자 목표 목록일 것이다. 이 목록은 우선순위 결정, 인도, 팀 구성, 예측, 개발 등의 작업을 위한 바탕이 된다. 

## 5.2 요약 수준

- 사용자 목표가 수행되는 컨텍스트를 보여준다.
- 관련 목표의 생명주기 순서를 보여준다. 
- 흰색과 파란색 모두를 포함하는 더 낮은 수준의 유스케이스들을 위한 목차를 제공한다.

요약 유스케이스는 색의 변화도 상에서 흰색이다. 

## 5.3 하위 기능

하위 기능 수준 목표는 사용자 목표를 수행하는데 필요하다. 하위기능 유스케이스는 심해에 있는 남색 유스케이스이다. 어떤 것들은 너무나 깊은 심해에 있어 거의 바닥에 붙어 있을 정도인데, 검은색을 부여한다. 이것은 매우 낮은 수준이므로, 부디 유스케이스로 발전시키지 않아야 한다. 하위기능 유스케이스 역시 유스케이스가 가지는 모든 규칙을 따른다. 하위기능 유스케이스가 자신을 참조하는 더 높은 수준의 유크세이스와 동일한 일차 액터를 가지가도 한다. 


**중요**

- 해수면 수준의 유스케이스를 찾는 데 많은 에너지를 쏟는다. 이 유스케이스는 매우 중요하다. 
- 다른 유스케이스에 컨텍스트를 제공하는 가장 바깥쪽 유스케이스를 몇 개 작성한다.
- 시스템 요구사항 문장 중에서 가장 좋아하는 문구를 유스케이스의 제목으로 했는지 여부를 신경쓰지 않는다.??

## 5.4 그림 아이콘으로 목표-수준 강조하기

- 높은 수준의 요약(순백색) : 구름 아이콘으로 표시한다. 아주 드불게 사용한다. 
- 요약 유스케이스(흰색) : 연 아이콘을 사용한다. 
- 사용자-목표(파란색, 해수면) : 파도 아이콘을 사용한다. 
- 하위기능(남색) : 물고기 아이콘을 사용한다. 
- 사소한 하위기능(검은색) : 조개 아이콘을 사용한다. 유스케이스로 작성하면 안된다.

## 5.5 올바른 목표 수준 찾기

#### 사용자 목표 찾기

- 일차 액터가 정말로 원하는 것은 무엇인가?
- 이 액터가 왜 이 일을 하는가?

#### 목표 수준 높이기와 낮추기

잘 작성된 유스케이스 대부분은 3~8 단계를 가진다. 

- 유저 인터페이스 세부사항을 제거한다. 액터의 움직임이 아닌 의도를 보여준다.
- 한 단계 위의 목표 수준을 찾으려면 **왜**라는 질문을 던짐으로써 목표 수준을 높인다.
- 단계를 통합한다. 

## 5.6 예제
생략...

# 6장 선조건, 트리거, 보증

## 6.1 선조건

선조건은 다른 유스케이스가 그 조건 설정을 위해 이미 실행되었음을 나타낸다. 

예)선조건: 사용자는 로그온 하였다.

## 6.2 최소보증

최소 보증은 일차 액터가 목표 달성에 실패했을 때를 대비하여, 시스템이 이해관계자와 맺는 최소한의 약속이다. 물론, 목표가 달성하였을 때도 지켜진다. 최소 보증 항목에 유스케이스가 실패하는 모든 경우를 나열하려고 애쓰지 않는다. 모든 실패 상황과 처리는 확장 항목에 나온다. 최소 보증 항목의 목적은 시스템이 무엇을 약속했는지를 알리는 것이다. 

예) 시스템은 작업이 진행된 곳까지 로그를 남겼다. 
예) 주문 처리는 지불이 완료되었을 때만 시작된다. 

## 6.3 성공보증

성공보증이란, 주요 성공 시나리오 종료이든 대안 시나리오 종료이든, 유스케이스가 성공적으로 종료한 뒤에 이해관계자의 어떤 이해관계가 충족되었는지를 서술하는 것이다. 

예) 파일을 저장한다.
예) 청구자는 합의된 보상금을 받았고, 청구건은 종료되었으며, 합의 결과를 기록한다. 

## 6.4 트리거

트리거는 유스케이스를 시작하도록 하는 사건이다. 

예) 불만이 있는 고객이 전화한다. 

# 7장 시나리오와 단계

유스케이스 한 묶음은 목표를 추구하는 일차 액터의 끝없이 펼쳐지는 이야기이다. 
생략...

## 7.1 주요 성공 시나리오

먼저 위에서 아래로 이해하기 쉬운 일반적인 시나리오를 작성한다. 

#### 공통적인 구조

- 시나리오 실행 조건
- 달성 목표
- 행동 단계
- 종료 조건
- 시나리오 조각으로 작성된 가능한 확장들

#### 시나리오 본문

시나리오 조각은 다양한 액터가 목표 달성을 위해 수행하는 일련의 행동의 순서로 서술한다. 

- 두 액터 간의 상호작용
- 이해관계자의 이해관계를 보호하기 위한 검증 단계
- 이해관계자의 이해관계를 충족시키기 위한 내부 변경

## 7.2 행동 단계

대개 시간 정보는 생략되는데, 일반적으로 단계 진행이 순차적이기 때문이다. 

#### 지침1. 단순한 문법을 사용한다. 

주어, 목적어, 부사, 동사의 지극히 단순한 문법을 사용해야 한다. 

#### 지침2. "누가 공을 가졌는지" 명확하게 보여준다.

#### 지침3. 조감도(?)를 바탕으로 작성한다. 

#### 지침4. 앞으로 진행하는 과정을 보여준다. 

한 단계에서 이루어진 진척의 정도는 유스케이스의 목표가 얼마나 높은지 또는 낮은지와 관계가 있다. 요약 또는 흰색 유스케이스에서, 단계는 전체 사용자 목표를 향해 진행한다. 하위기능 유스케이스에서 단계는 보다 작은 분량만큼 앞으로 진행한다. 

#### 지침5. 액터의 움직임이 아닌 의도를 보여준다. 

사용자의 움직임을 서술하는 방식은 목표를 너무 낮은 수준에서 작성하는 것과 관계가 있다. 보통 인터페이스 상세 서술이라고 부르는데, 인터페이스를 상세하게 서술하면 요구사항 문서가 길어지고 불안정해진다. 

- 문서는 길수록 읽기 어렵고 유지보수 비용도 높아진다.
- 서술한 대화는 요구사항이라기보다는 그 순간에 작성자가 사용자 인터페이스를 상상하는 것에 가깝다. 
- 대화는 시스템이 조금만 변경되어도 작성한 부분을 무효로 할 수 있다는 점에서 불안정하다. 

> 사용자 인터페이스 구성은 사용자 인터페이스 설계자의 몫이다. 특정 움직임에 대한 서술은 그 설계 작업에 속한 것이지, 기능 요구사항 문서에 있어야 할 내용은 아니다. 

#### 지침6. 합리적인 행동의 집합을 포함한다. 

120~121page

#### 지침7. '~여부 확인'이 아니라 '검증'을 한다.

이것은 흐름을 뚜렷이 앞으로 진행시키지 않고 실제로 목표도 아니며, 확인 결과에 대한 대책이 없다. 

122page

#### 지침8. 시각은 선택적으로 언급한다.

#### 지침9. 10 생략
122page~ 따로 읽어보자.

#### 번호를 붙일 것인가 말것인가?

정답은 없다. 완전한 격식을 갖춘 유스케이스는 번호가 필요하다. 번호를 붙이면 행위 검사가 더 쉽다. 


# 8장. 확장

유스케이스를 읽는 사람은 만약(if) 조건문이 나오면 어려움을 느낀다. 가장 좋은 방법은 시작부터 종료까지 실행되는 단순한 순서로 주요 성공시나리오를 작성하고, 다음으로 각 분기점에서 시나리오를 확장한다.

## 8.1 확장의 기초

128page인데, 원서를 찾아서 따로 읽어보자. 번역서의 번역이 매우 엉망이라서 읽기가 불편함

## 8.2 확장 조건

확장 조건이란, 시스템이 서로 다른 행위를 하게 하는 조건이다. 실패나 예외라기 보다는 확장이라고 말함으로써, 실패 조건뿐만 아니라 대안 성공도 모두 포함한다. 

#### 가능한 모든 실패와 대안 흐름에 대해 브레인스토밍 한다.

확장 처리 방법을 작성하기 전에, 브레인스토밍을 하여 확장 조건의 범위를 확실히 잡는 것이 중요하다. 모든 대안 성공과 실패 상황에 대해 먼저 브레인스토밍을 한다면, 앞으로 몇시간 혹은 며칠간의 작업을 위한 발판이 될 목록을 갖게 된 셈이다. 시나리오가 실패하거나 성공으로 끝날 수 있는 대안 등 모든 가능한 방안에 대해 브레인스토밍 한다. 

- 대안 성공 경로
- 잘못 행동하는 일차 액터
- 행동하지 않는 일차 액터
- 검증 실패 처리를 위한 확장의 존재를 암시하는, '시스템이 검증한다' 라는 모든 문구의 출현
- 지원 액터의 부적절 반응 또는 반응 없음
- 설계 중인 시스템의 내부 오류로서, 정상적인 비즈니스의 한 부분으로 발견되고 처리되어야만 할 일
- 예상하지 못한 비정상적인 내부 오류로 처리되어 외부에 가시적인 결과를 내보여야할 일
- 여러분이 발견해야 할 시스템의 중대한 수행 오류

조건이 적용되는 범위를 정확히 파악하기 위해, 시나리오의 처음부터 끝까지 단계에 대해 여러 사람이 모여 활발하게 토의한다. 

#### 확장 목록을 정당화한다.
생략.. 따로 읽어보자.

#### 실패를 통합한다.
생략.. 따로 읽어보자.

## 8.3 확장 처리

확장은 유스케이스의 축소판이다. 트리거는 확장을 발생시키는 조건이다. 

일단, 생략
나중에 꼭 다시 읽어보자. 

# 9장. 기술과 데이터 변동

확장은 시스템이 하는 행동의 서로 다름을 표현하지만, 가끔은 '이것을 하는 몇가지 다른 방법이 있다'는 사실을 표현하고 싶을 떄가 있다. 무엇이 일어나는가는 동일하지만, 어떻게 수행되는가는 다양할 수 있다. 대부분의 경우 이러한 다양성은 기술의 변동이 있거나 반드시 파악해야 하는 데이터에 차이가 있기 때문이다. 이것은 확장 부분이 아니라 기술과 데이터 변동 항목에 기록한다. 

예제)
7. 반품 물건에 대해 환불해 준다.

기술과 데이터 변동 목록:
7a. 수표, 전자화폐 등으로 환불해 준다. 

기술과 데이터 변동 목록은 행동 단계를 포함하지 않는다. 


# 10장. 유스케이스 연결

## 10.1 하위 유스케이스

밑줄이 있거나, 굵은 글자체로 표현한 행동 단계는 다른 유스케이스 호출을 나타낸다. 


## 10.2 확장 유스케이스

생략... 

#### 확장 유스케이스를 사용하는 시기

확장 유스케이스는 이해하고 유지보수하기 어려우므로 필요할 때만 작성한다. 

- 비동기 또는 가로채기 서비스를 많이 이용하지만, 이것으로 인해 기준 유스케이스가 방해 받지 말아야 할 때
- 확정(변경이 금지된) 요굿항 문서에 추가할 때이다. 


생략... 


# 11장. 유스케이스 양식

## 11.1 다양한 양식

#### 격식을 갖춘 양식

- 열 하나로 구성한 텍스트
- 번호를 붙인 단계
- if 조건문 없음
- 숫자와 문자의 조합으로 구성한 확장 번호 체계

#### 간결한 양식

#### 하나의 열로 된 표

#### 두 열로 된 표

#### RUB 양식

#### 오캠 방식

#### 다이어그램 방식

## 11.2 유스케이스 작성 형식에 영향을 주는 요인

생략.
























































